<!DOCTYPE html>
<html lang="en-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.33">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>yb 的个人博客</title><meta name="description" content="yb 的个人博客">
    <link rel="modulepreload" href="/yb-blog/assets/app.a4625c66.js"><link rel="modulepreload" href="/yb-blog/assets/webpack.html.81ec4c26.js"><link rel="modulepreload" href="/yb-blog/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/yb-blog/assets/webpack.html.c4a29d5f.js">
    <link rel="stylesheet" href="/yb-blog/assets/style.264f5914.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/yb-blog/" class=""><!----><span class="site-name">yb 的个人博客</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/yb-blog/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="yb的 个人博客"><span class="title">yb的 个人博客</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="yb的 个人博客"><span class="title">yb的 个人博客</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/pureHeart11/yb-blog" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/yb-blog/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="yb的 个人博客"><span class="title">yb的 个人博客</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="yb的 个人博客"><span class="title">yb的 个人博客</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/pureHeart11/yb-blog" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/yb-blog/" class="sidebar-item sidebar-heading" aria-label="欢迎"><!--[--><!--]--> 欢迎 <!--[--><!--]--></a><!----></li><li><p class="sidebar-item sidebar-heading collapsible">JS 基础 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/yb-blog/basis/extend" class="sidebar-item" aria-label="JavaScript深入之继承的多种方式和优缺点"><!--[--><!--]--> JavaScript深入之继承的多种方式和优缺点 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading collapsible">设计模式 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/yb-blog/designPatterns/single" class="sidebar-item" aria-label="单例模式"><!--[--><!--]--> 单例模式 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/designPatterns/observer" class="sidebar-item" aria-label="观察者模式和订阅-发布模式的区别"><!--[--><!--]--> 观察者模式和订阅-发布模式的区别 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading collapsible">手撕代码 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/yb-blog/code/deepClone" class="sidebar-item" aria-label="深拷贝"><!--[--><!--]--> 深拷贝 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/new" class="sidebar-item" aria-label="实现new操作符"><!--[--><!--]--> 实现new操作符 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/instanceOf" class="sidebar-item" aria-label="实现instanceOf"><!--[--><!--]--> 实现instanceOf <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/flatten" class="sidebar-item" aria-label="数组扁平"><!--[--><!--]--> 数组扁平 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/uniqArr" class="sidebar-item" aria-label="数组去重"><!--[--><!--]--> 数组去重 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/debounce" class="sidebar-item" aria-label="防抖"><!--[--><!--]--> 防抖 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/throttle" class="sidebar-item" aria-label="节流"><!--[--><!--]--> 节流 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/sleep" class="sidebar-item" aria-label="sleep函数"><!--[--><!--]--> sleep函数 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/fib" class="sidebar-item" aria-label="斐波那契"><!--[--><!--]--> 斐波那契 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/bubble" class="sidebar-item" aria-label="冒泡"><!--[--><!--]--> 冒泡 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/promise" class="sidebar-item" aria-label="promise"><!--[--><!--]--> promise <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/parseUrl" class="sidebar-item" aria-label="解析url"><!--[--><!--]--> 解析url <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/thousandthSplit" class="sidebar-item" aria-label="千分位分隔符"><!--[--><!--]--> 千分位分隔符 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/code/curry" class="sidebar-item" aria-label="柯里化"><!--[--><!--]--> 柯里化 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading collapsible">算法 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/yb-blog/alg/twoSum" class="sidebar-item" aria-label="两数之和"><!--[--><!--]--> 两数之和 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/alg/binarySearch" class="sidebar-item" aria-label="二分查找"><!--[--><!--]--> 二分查找 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading collapsible">微前端 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/yb-blog/microWeb/qiankun1" class="sidebar-item" aria-label="快速搭建基于umi-qiankun+ant-design-pro的微前端中后台"><!--[--><!--]--> 快速搭建基于umi-qiankun+ant-design-pro的微前端中后台 <!--[--><!--]--></a><!----></li><li><a href="/yb-blog/microWeb/qiankun2" class="sidebar-item" aria-label="动态注册子应用"><!--[--><!--]--> 动态注册子应用 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading active collapsible">面试题 <span class="down arrow"></span></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/yb-blog/interview/webpack" class="router-link-active sidebar-item active" aria-label="webpack"><!--[--><!--]--> webpack <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading collapsible">资源 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/yb-blog/sources/source" class="sidebar-item" aria-label="资源"><!--[--><!--]--> 资源 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading collapsible">日常 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/yb-blog/daily/utils" class="sidebar-item" aria-label="工具库"><!--[--><!--]--> 工具库 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h3 id="_1-webpack-配置中用过哪些-loader-都有哪些作用" tabindex="-1"><a class="header-anchor" href="#_1-webpack-配置中用过哪些-loader-都有哪些作用" aria-hidden="true">#</a> 1. webpack 配置中用过哪些 Loader？都有哪些作用</h3><ul><li>==style-loader==：将处理好的 css 通过 style 标签的形式添加到页面上</li><li>==css-loader==：处理 css</li><li>==postcss-loader==：自动添加 CSS3 部分属性的浏览器前缀</li><li>==less-loader==：识别 less 文件</li><li>==sass-loader==：识别 sass 文件（搭配 node-sass 一起使用）</li><li>==file-loader==：解决图片引入问题，并将图片 copy 到指定目录，默认为 dist</li><li>==url-loader==：依赖 file-loader，当图片小于 limit 值的时候，会将图片转为 base64 编码，大于 limit 值的时候依然是使用 file-loader 进行拷贝 <blockquote><p>webpack5 新增资源模块(asset module)，允许使用资源文件（字体，图标等）而无需配置额外的 loader。</p></blockquote></li><li>==image-loader==：加载并且压缩图片文件</li><li>==babel-loader==：ES6 转换成 ES5</li><li>==ts-loader==：将 TypeScript 转换成 JavaScript</li><li>==eslint-loader==：通过 ESLint 检查 JavaScript 代码</li><li>==cache-loader==：可以在一些性能开销较大的 Loader 之前添加，目的是将结果缓存到磁盘里</li></ul><h3 id="_2-webpack-配置中用过哪些-plugin-都有哪些作用" tabindex="-1"><a class="header-anchor" href="#_2-webpack-配置中用过哪些-plugin-都有哪些作用" aria-hidden="true">#</a> 2. webpack 配置中用过哪些 Plugin？都有哪些作用</h3><ul><li>==html-webpack-plugin==：生成 html 文件并引入外部资源</li><li>==clean-webpack-plugin==：自动清空打包目录</li><li>==mini-css-extract-plugin==：css 文件引入</li><li>==webpack-bundle-analyzer==：构建结果分析</li><li>==optimize-css-assets-webpack-plugin==：压缩 css</li><li>==uglifyjs-webpack-plugin==：不支持 ES6 压缩 (Webpack4 以前)</li><li>==terser-webpack-plugin==：支持压缩 ES6 (Webpack4)</li><li>==purgecss-webpack-plugin==：清除无用 css</li></ul><h3 id="_3-loader-和-plugin-有什么区别" tabindex="-1"><a class="header-anchor" href="#_3-loader-和-plugin-有什么区别" aria-hidden="true">#</a> 3. Loader 和 Plugin 有什么区别？</h3><ul><li><p>Loader 直译为&quot;加载器&quot;。Webpack 将一切文件视为模块，但是 webpack 原生是只能解析 js 和 json 文件，如果想将其他文件也打包的话，就会用到 loader。 所以 Loader 的作用是让 webpack 拥有了加载和解析非 JavaScript 文件的能力。</p></li><li><p>Plugin 直译为&quot;插件&quot;。Plugin 可以扩展 webpack 的功能，让 webpack 具有更多的灵活性。 在 Webpack 运行的生命周期中会广播出许多事件，Plugin 可以监听这些事件，在合适的时机通过 Webpack 提供的 API 改变输出结果</p></li></ul><h3 id="_4-如何编写-loader-如何编写-plugin" tabindex="-1"><a class="header-anchor" href="#_4-如何编写-loader-如何编写-plugin" aria-hidden="true">#</a> 4. 如何编写 Loader ? 如何编写 Plugin</h3><h3 id="_5-webpack-层面如何性能优化" tabindex="-1"><a class="header-anchor" href="#_5-webpack-层面如何性能优化" aria-hidden="true">#</a> 5. Webpack 层面如何性能优化？</h3><ul><li>externals 从 cdn 引入，而非打包</li><li>include 和 exclude 配置缩小查询范围</li><li>noParse 配置哪些模块文件的内容不需要进行解析，以提高整体的构建速度</li><li>ignorePlugin 将插件中的非中文语音排除掉，可以大大节省打包的体积</li><li>thread-loader 多进程打包，配置在 thread-loader 之后的 loader 都会在一个单独的 worker 池（worker pool）中运行</li><li>happyPack 多进程打包（webpack5 已弃用）</li><li>利用缓存： <ul><li>babel-loader 开启缓存</li><li>cache-loader 缓存一些性能开销比较大的 loader 的处理结果</li><li>hard-source-webpack-plugin 提供了中间缓存 (webpack5 内置了模块缓存)</li></ul></li><li>webpack-bundle-analyzer 构建结果分析</li><li>optimize-css-assets-webpack-plugin 压缩 css</li><li>terser-webpack-plugin 压缩 js （webpack5 内置，无需安装，直接引用）</li><li>purgecss-webpack-plugin 清除无用 css</li><li>tree-shaking 剔除没有用的代码 （webpack 默认支持，需要在 .bablerc 里面设置 model：false，即可在生产环境下默认开启）</li><li>splitChunks 公共模块抽取</li></ul><h3 id="_6-webpack-打包流程是怎样的" tabindex="-1"><a class="header-anchor" href="#_6-webpack-打包流程是怎样的" aria-hidden="true">#</a> 6. Webpack 打包流程是怎样的？</h3><ul><li><p>初始化参数：解析 webpack 配置参数，合并 shell 传入和 webpack.config.js 文件配置的参数,形成最后的配置结果；</p></li><li><p>开始编译：上一步得到的参数初始化 compiler 对象，注册所有配置的插件，插件 监听 webpack 构建生命周期的事件节点，做出相应的反应，执行对象的 run 方法开始执行编译；</p></li><li><p>确定入口：从配置的 entry 入口，开始解析文件构建 AST 语法树，找出依赖，递归下去；</p></li><li><p>编译模块：递归中根据文件类型和 loader 配置，调用所有配置的 loader 对文件进行转换，再找出该模块依赖的模块，再递归本步骤直到所有入口依赖的文件都经过了本步骤的处理；</p></li><li><p>完成模块编译并输出：递归完事后，得到每个文件结果，包含每个模块以及他们之间的依赖关系，根据 entry 或分包配置生成代码块 chunk;</p></li><li><p>输出完成：输出所有的 chunk 到文件系统；</p></li></ul><h3 id="_7-webpack-热更新-hmr-是如何实现" tabindex="-1"><a class="header-anchor" href="#_7-webpack-热更新-hmr-是如何实现" aria-hidden="true">#</a> 7. Webpack 热更新（HMR）是如何实现？</h3><p>Webpack 的热更新又称热替换（Hot Module Replacement），缩写为 HMR。 这个机制可以做到不用刷新浏览器而将新变更的模块替换掉旧的模块。 HMR 的核心就是客户端从服务端拉去更新后的文件，准确的说是 chunk diff (chunk 需要更新的部分)，实际上 WDS 与浏览器之间维护了一个 Websocket，当本地资源发生变化时，WDS 会向浏览器推送更新，并带上构建时的 hash，让客户端与上一次资源进行对比。客户端对比出差异后会向 WDS 发起 Ajax 请求来获取更改内容(文件列表、hash)，这样客户端就可以再借助这些信息继续向 WDS 发起 jsonp 请求获取该 chunk 的增量更新。 后续的部分(拿到增量更新之后如何处理？哪些状态该保留？哪些又需要更新？)由 HotModulePlugin 来完成，提供了相关 API 以供开发者针对自身场景进行处理，像 react-hot-loader 和 vue-loader 都是借助这些 API 实现 HMR。</p><h3 id="_8-webpack-打包中-babel-插件是如何工作的" tabindex="-1"><a class="header-anchor" href="#_8-webpack-打包中-babel-插件是如何工作的" aria-hidden="true">#</a> 8. Webpack 打包中 Babel 插件是如何工作的？</h3><h3 id="_9-webpack5-更新了哪些新特性" tabindex="-1"><a class="header-anchor" href="#_9-webpack5-更新了哪些新特性" aria-hidden="true">#</a> 9. Webpack5 更新了哪些新特性？</h3><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: liyuanq@weipaitang.com">李元庆</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/yb-blog/assets/app.a4625c66.js" defer></script>
  </body>
</html>
